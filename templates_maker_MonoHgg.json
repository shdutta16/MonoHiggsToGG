{
   "#" : "---------------------------------------------------------------------------------------------------------------------",
   "#" : "Configuration file for templates_maker.py script.",
   "#" : "Run as ./templates_maker.py --load templates_maker.json --input-dir <input_dir> -o <outfile>",

   "#" : "Note: comments are not supported in JSON.",
   "#" : "The trick here is to encapsulate them as well formatted input with key #",
   "#" : "Configuration items are commented prepending an _ to the name (any other character would work)",

    "#" : "---------------------------------------------------------------------------------------------------------------------",
    "#" : "Dataset definition                                                                                                   ",
    "#" : "---------------------------------------------------------------------------------------------------------------------",
    "#" : "  %(sel)s is replaced with the appropriate string                                                                    ",
    "#" : "  format is <sample-name>:[[input-file][/file-folder]] order irrelevant                                                               ",
	
    "#" : "data to be fit                                                                                                       ",
    "data" : [
               "Data_13TeV:__infile__/%(sel)s"
             ],

    "_data" : [
               "Data_13TeV:__infile__/%(sel)s"
             ],

    "#" : "data used for template making",
    "templates" : [
               "Data_13TeV:__infile__/%(sel)s"
             ],
    "templatesMC" : [
               "DiPhoton_13TeV:__infile__/genmc",
               "DYJetsToLL_13TeV:__infile__/genmc",
               "GJets_13TeV:__infile__/genmc",
               "QCD_13TeV:__infile__/genmc",
               "TTGJets_13TeV:__infile__/genmc",
               "TTGG_0Jets_13TeV:__infile__/genmc",
               "TTJets_13TeV:__infile__/genmc",
               "TGJets_13TeV:__infile__/genmc",
               "TTWJetsToLNu_13TeV:__infile__/genmc"
             ],
             
     "#" : "mc dataset",
     "mc" : [
               "DiPhoton_13TeV:__infile__/genmc",
               "DYJetsToLL_13TeV:__infile__/genmc",
               "GJets_13TeV:__infile__/genmc",
               "QCD_13TeV:__infile__/genmc",
               "TTGJets_13TeV:__infile__/genmc",
               "TTGG_0Jets_13TeV:__infile__/genmc",
               "TTJets_13TeV:__infile__/genmc",
               "TGJets_13TeV:__infile__/genmc",
               "TTWJetsToLNu_13TeV:__infile__/genmc"
            ],

     "_mc" : [
               "DiPhoton_13TeV:__infile__/genmc",
               "DYJetsToLL_13TeV:__infile__/genmc",
               "GJets_13TeV:__infile__/genmc",
               "QCD_13TeV:__infile__/genmc",
               "TTGJets_13TeV:__infile__/genmc",
               "TTGG_0Jets_13TeV:__infile__/genmc",
               "TTJets_13TeV:__infile__/genmc",
               "TGJets_13TeV:__infile__/genmc",
               "TTWJetsToLNu_13TeV:__infile__/genmc"
            ],

     "#" : "mc dataset",
      "signals" : {
               "sig_2HDMa_mA200_ma150_13TeV" : [ "sig_2HDMa_mA200_ma150_13TeV:__infile__/genmc" ],
               "sig_2HDMa_mA300_ma150_13TeV" : [ "sig_2HDMa_mA300_ma150_13TeV:__infile__/genmc" ],
               "sig_2HDMa_mA400_ma150_13TeV" : [ "sig_2HDMa_mA400_ma150_13TeV:__infile__/genmc" ],
               "sig_2HDMa_mA500_ma150_13TeV" : [ "sig_2HDMa_mA500_ma150_13TeV:__infile__/genmc" ],
               "sig_2HDMa_mA600_ma150_13TeV" : [ "sig_2HDMa_mA600_ma150_13TeV:__infile__/genmc" ]
      },
      "_signals" : { 
               "sig_2HDMa_mA200_ma150_13TeV" : [ "sig_2HDMa_mA200_ma150_13TeV:__infile__/genmc" ],
               "sig_2HDMa_mA300_ma150_13TeV" : [ "sig_2HDMa_mA300_ma150_13TeV:__infile__/genmc" ],
               "sig_2HDMa_mA400_ma150_13TeV" : [ "sig_2HDMa_mA400_ma150_13TeV:__infile__/genmc" ],
               "sig_2HDMa_mA500_ma150_13TeV" : [ "sig_2HDMa_mA500_ma150_13TeV:__infile__/genmc" ],
               "sig_2HDMa_mA600_ma150_13TeV" : [ "sig_2HDMa_mA600_ma150_13TeV:__infile__/genmc" ]
      },
      "_signals" : { 
               "sig_2HDMa_mA200_ma150_13TeV" : [ "sig_2HDMa_mA200_ma150_13TeV:__infile__/genmc" ],
               "sig_2HDMa_mA300_ma150_13TeV" : [ "sig_2HDMa_mA300_ma150_13TeV:__infile__/genmc" ],
               "sig_2HDMa_mA400_ma150_13TeV" : [ "sig_2HDMa_mA400_ma150_13TeV:__infile__/genmc" ],
               "sig_2HDMa_mA500_ma150_13TeV" : [ "sig_2HDMa_mA500_ma150_13TeV:__infile__/genmc" ],
               "sig_2HDMa_mA600_ma150_13TeV" : [ "sig_2HDMa_mA600_ma150_13TeV:__infile__/genmc" ]
      },
      "#" : "mc dataset",
         "higgs" : {		
         	        "VBFHToGG_13TeV" : [ "VBFHToGG_13TeV:__infile__/genmc" ], 
         	        "VHToGG_13TeV" : [ "VHToGG_13TeV:__infile__/genmc" ],
         	        "ttHJetToGG_13TeV" : [ "ttHJetToGG_13TeV:__infile__/genmc" ],
         	        "GluGluHToGG_13TeV" : [ "GluGluHToGG_13TeV:__infile__/genmc" ] 

           	},

         "_higgs" : {	 
         	        "VBFHToGG_13TeV" : [ "VBFHToGG_13TeV:__infile__/genmc" ], 
         	        "VHToGG_13TeV" : [ "VHToGG_13TeV:__infile__/genmc" ],
         	        "ttHJetToGG_13TeV" : [ "ttHJetToGG_13TeV:__infile__/genmc" ],
         	        "GluGluHToGG_13TeV" : [ "GluGluHToGG_13TeV:__infile__/genmc" ] 

           	},

         "_higgs" : {
         	        "VBFHToGG_13TeV" : [ "VBFHToGG_13TeV:__infile__/genmc" ], 
         	        "VHToGG_13TeV" : [ "VHToGG_13TeV:__infile__/genmc" ],
         	        "ttHJetToGG_13TeV" : [ "ttHJetToGG_13TeV:__infile__/genmc" ],
         	        "GluGluHToGG_13TeV" : [ "GluGluHToGG_13TeV:__infile__/genmc" ] 

               },

      "#" : "mc dataset",
        "ggh" : {		
        	  "GluGluHToGG_13TeV" : [ "GluGluHToGG_13TeV:__infile__/genmc" ]	  
        },	
        "_ggh" : {	 
                  "GluGluHToGG_13TeV" : [ "GluGluHToGG_13TeV:__infile__/genmc" ]
        },
        "_ggh" : {
          	  "GluGluHToGG_13TeV" : [ "GluGluHToGG_13TeV:__infile__/genmc" ]
              },

      "#" : "mc dataset",
        "vh" : { 
        	 "VHToGG_13TeV" : [ "VHToGG_13TeV:__infile__/genmc" ]	  
        },	
        "_vh" : {	 
                 "VHToGG_13TeV" : [ "VHToGG_13TeV:__infile__/genmc" ]
        },
        "_vh" : {
                 "VHToGG_13TeV" : [ "VHToGG_13TeV:__infile__/genmc" ]
              },

      "#" : "mc dataset",
        "vbf" : { 
        	 "VBFHToGG_13TeV" : [ "VBFHToGG_13TeV:__infile__/genmc" ]	  
        },	
        "_vbf" : {	 
                 "VBFHToGG_13TeV" : [ "VBFHToGG_13TeV:__infile__/genmc" ]
        },
        "_vbf" : {
                 "VBFHToGG_13TeV" : [ "VBFHToGG_13TeV:__infile__/genmc" ]
              },

      "#" : "mc dataset",
        "tth" : { 
        	 "ttHJetToGG_13TeV" : [ "ttHJetToGG_13TeV:__infile__/genmc" ]	  
        },	
        "_tth" : {	 
                 "ttHJetToGG_13TeV" : [ "ttHJetToGG_13TeV:__infile__/genmc" ]
        },
        "_tth" : {
                 "ttHJetToGG_13TeV" : [ "ttHJetToGG_13TeV:__infile__/genmc" ]
              },


    "#" : "file names for different datasets. Files folder can be specified by --input-dir on the command line",
    "data_file"  : "Output_Data.root",
    "mc_file"    : "Output_MC.root",
    "sig_file"    : null,  "#" : "implies to use same as mc",
    "hig_file"    : null,  "#" : "implies to use same as mc",
    "templates_file" : null, "#" : "implies to use same as data",

    "#" : "categories for the input datasets",
    "categories" : [],
    "#" :  "groups of categories can be defined to resum some of the categories",
    "groups": {
        "dnnBin_0p900000_1p000000"    : ["dnnBin_0p900000_1p000000"],
        "dnnBin_1p000000_99"    : ["dnnBin_1p000000_99"]
        }, 

    "#" : "how to compose the tree name starting from sub-pieces       ",
    "#" : " %(sample)s is replaced with the items in dataset definition",
    "#" : " %(cat)s is replaced with the category name                 ", 
    "treeName": "trees/%(sample)s_%(cat)s",

    "selection"    : "cic",                              "#" : "nominal selection",
    "preselection" : "(mass>105)",   
    "_preselection" : "(mass>105)",  
    "_preselection" : "(mass>105)",	"#" : "preselection cut applied to all trees",
    
    "#" : "---------------------------------------------------------------------------------------------------------------------",
    "#" : "Fit definition                                                                                                       ",
    "#" : "---------------------------------------------------------------------------------------------------------------------",

    "dataset_variables" : ["rho","nvtx","run","lumi","event"],     "#" :"list of variables to be put in the dataset (other than the template ones)",
    "weight_expression" : "weight",           "#" :"event weight expression  ",

    "#" : "List of aliases. Used to define variables/simplify expressions selection.",
    "aliases"  : [ 

               "phoIsEB    := abs(leadScEta) < 1.5",
               "phoIsSB    := phoIsEB",
               "leadIsEB    := abs(leadScEta) < 1.5",
               "subleadIsEB := abs(subleadScEta) < 1.5",
               "leadIsSB := leadIsEB",
               "subleadIsSB := subleadIsEB",
               "leadPrompt    := leadIsEB",
               "leadFake      := ! leadPrompt",
               "subleadPrompt := subleadIsEB",
               "subleadFake   := ! subleadPrompt",
               "phoPrompt := leadIsEB",
               "phoFake   := ! phoPrompt",
               "phoPhoIsoEB    := leadIsEB",
               "subleadPhoIsoEB    := subleadIsEB",
               "leadPhoIsoEB    :=leadIsEB",
	       "leadEcorr := 0.001*leadPt",
               "subleadEcorr := 0.001*subleadPt",
               "massCorr := sqrt(leadEcorr*subleadEcorr)",
	       "leadMatchType:= leadIsEB",		 
	       "subleadMatchType:= subleadIsEB",		 
	       "mgg := mass",
	       "mggEBEB := mass*massCorr",
               "mggEBEE := mass*massCorr"    

	       ],

    "rootstyle_extra" : [
                  "TGaxis::SetMaxDigits(3);",
                  "TH1::SetDefaultSumw2(1);"
    ]
    
}
